#:::::::::::::::::::::::::::::::::::::::---:::--------:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::........................................
#:::::::::::::::::::::-:-----:::----------------------------------:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::......................................
#::::::::-----------------------------------------------------------------------::--::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::...........................
#::::------------------------------------------------------------------------------------------:--:::::::::::::::::::::::::::::::::::::::::::::::::::::....................
#:----------------------------------------------------------------------------------------------.:------:::::::::::::::::::::::::::::::::::::::::::::::::...::.............
#------------================================================----------------------------------=-..::::----------::::::::::::::::::::::::::::::::::::::::::::::::..........
#------===============================================================-------------------------:-:......::-----------------:::::::::::::::::::::::::::::::::::::::::.......
#--==================================++++===++++==============================-----------------:-....... ...:::----------------::::::::::::::::::::::::::::::::::::::::....
#=================+++++++++++++++++++++++++++++++++=============--===================--------=-:-:-==--::......:==--------------------::::::::::::::::::::::::::::::::::::.
#========+++++++++++++++++++++****++****++++++++++++=============================-----========:..::---===---:::..==----------------------::::::::::::::::::::::::::::::::::
#==++++++++++++++++++++++++***#*****+++++++++++++++++++++====+=-:::-------=--===--::-------==-:.     .========---==--------------------------::::::::::::::::::::::::::::::
#+++++++++++++++++++++*****####******++++++++++**++++++++++++++-.:.:-::--==========:.::::::--::--.:-:-=========--=====--------------------------:::::::::::::::::::::::::::
#+++++++++**************#######********++*++++++**++++++++++++=:....:-::-==========-:.....:-:-:::::-=============-=========-------------------------:::::::::::::::::::::::
#++***************###############**********++++++*++++++++++++-..  .:==-============-......:::-:::...::-:-=====================------------------------::::::::::::::::::::
#******************##############********************++++=--===:-==++++++++++++===+=-.......::::.:.::.::.::.:----=================------------------------:::::::::::::::::
#******************####%%%#########*******************++++*=:::::--===+++++++++++++=:...... .:......:.:..:.....:======================------------------------:::::::::::::
#*****##################%%%%%########*********************+=-:::::::.-=++++++++++++-. ..... .:......:.::.::.....-++======================-----------------------:::::::::::
##########################%%%%%###########*****************-....... .:*+++++++++++-.....    ...........:..:. ... :++++++=====================--------------------------::::
#########################%%%%%%%%%%%%#######**************+===:...::..+*+++++++*+:      .................... .....-++++++===+====================------------------------::
##############################%%%%%%%###########**#*===++++***=.::=*++++***++++-..:--==++=++==-:. . .... ... ......=+++++++==+++====================-----------------------
##################################%%%%%%%%###########+::::----=:==+*********=-::-==++++*++*++=:..     :==-:.   ... :*++++++++=++++++====================---------======----
#######%%%%%%%%%%%%%%%##%%####%%%##%%%%%%%%%#########*=:...--::::::-:--==++***+:::::---:-===+-.... .: .++**+=-.  ...+*++++++++==+++++++=====================--==+++====----
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##%%##%%%#######*=:....::::::::.::.:-+=+*+::....::.:-::-:..::.-++++*+*****+-.  +**+++++++++=+++++++++===================+++++===------
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##%%####%#######*=......:...:.:.::..:***+*+=-:......:--:--:.::...::===+++**#*=:=****+++*++++++++++++++++=============++*+++++==-------
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%######+:..........:.:..:.. -****#+--.......:::.--:.::::..::-::-==-+*+++++***++**+++++++++++++++++========+***++++===--------
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#%%#####%+.  ..............:....****#*--:.......:::..::.:.::.::::::.::-:--=*+++**++***+*++++++++++++++++++++++***+++======------
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%######%%%+--=++*+=::.....::.  .. =***##=::........::..::.::.:..::.::.....-****+++***++****++++++++++++++++++++++*+++++++======---
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#%#====**####*+-..   .#**=:  .:#**##-::........:....:..:.:..::..::.... :*****++***++*****+++*++++++++++++++++++++++++++=======
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#*---=--=--=--:.===###%%*- .##*#*::. ..... .........:..........:.... :*****=+****++*****++**++++++++++++++++++=============
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%=:.:::-:::..--:-====*##%*-+#*#=:: ...... .......................... -*****--****+++****+++**++++++++++++++++=============
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#+-.....:-::::::::::.:::--=:=*=:..         ..  ................. .....+*****-:+****+++****++****+++++++++++++++++=========
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#+-......::.::.:.:.:::... .---.    ..::---==-::..  ......   .... .... -#****#-:=*****+++***++*****+++++++++++++++++++=====
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%=-......::..:.::::.::.....:: .-=+**###**##*+-:..    ..+===-:.   ......+#*+***=:-=+****+++***++******++++++++++++++++++===
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#=-.......::.:.:..:.:.......:-=======++=*#+*-::... ..  =**#%#+=:    ....=#*++**+-::=*****+++***+*******+++++++++++++**++++
#%%@@@@@@@%%%%%%@%%%@%%%%%%%%%%%%%%%%%%%%%%%%%%%%+-.......::..:.:.......   .--...:::.:..-::--...::: -*++*#**###*#=.::. ..::*#*+**+-:::+#****+++**++*********+++++++****+===
#@@@@@@@@@@@@%%%%@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%#-. .    ............... .. .=-:........:-::--.:.:-.:---=++*+*##*##-:=-. ::.+#*++++=-::=*******+++++**********+++*****+====
#@@@@@@@@@@@@@@@%@@@@@%@%%%%%%%%%%%%%%%%%%%%%%%*:...::-----:...........  ... :==:........:=-:=-:::::::..:::.:-====++-.-*=::..+#***+==-:.:+#******+++++****************+====
#@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%##%*==*#%%%%##%*=-:.    :*+=:.    .=--.........:-:.=-::.::.:::.:::..:.:.=%*..+#=:..+#**++==--::-*#******+++=+********++++++====-
#@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%++==+++*++*+*##+-:.:..:::#%%#%*-.  =--:.........::::-::..:..:::..::. . .-*%#: :=-:..*#*===--:::.:=*#*******+===+***=--+*++++====
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@%%%%%%%%%%%%%@+=----:::-::::::::::==+*#+#%%%#+::---..........::.::::.::..:....::.... .+%#- .-:..:*#*--::::....:=*#*******=..+-:-+*****++++++
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%*=-:......:--=-:::::::.:-:-====+===--........ .::..:.:..:..:....:::. ... +%#= :-:..:*#+::........ :+##******-. :+#*******+++++
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%*=:=.:.......:::::::::::::::.....:---........ ................. ..:. ... .##%+.-:....+#*..          :=*#*+:..-=************+++
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%%%*-.=:.........:::..:....:.::..... ---........ ......................  ... =%#%+::.... =* .:-==++++++=--=:.-+++**************++
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%@%=::-=..........:::..........:.....--: ......  ............ ..........  ....*%##:.......::*#########*+-..=#*+*#***************+
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%@*:...=:.........:::......:..... . :-: ..       ........ ..     . ..... . .. .*%*.........+***#####+-::--.++=*#*****************
#@@@@@%%%%@%%%%%%%@@@@@@%%%@@@@@@@@@@%@@@@@*--=+++:........ .:.............  .-:  ....:-++++++-...   .:=+-=::...    .... .+.      .. :#*+***=::-++=::=+*#******************
#@@@@%%%%%%%%%%%%%@@%%%%%%%%%%%%%%%%%%%@%%#+*****+:........ ........... ... .:. .....:::=+**#=-::.   .=+%**%#***=-:   .....+++==-:.  .*##+:..-*+++*#*+*#####***************
#@@@@@@@%%%%@@@@@@@@@@%%%%%%%%%%%@@@@@@@%##+++++==......... ............: ..:.......... ..:*===-=-..::=++%+#%**#%%#+=. ....*%%%%###+.:*=:.-----***#*+###########*********++
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*-:::=-.......  .............  ..........--:.:.-==+-+*=::--=***%+##**#%###*- .. +%####%%#=:::===--+#**#**####***+++*************
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#=-:::...::::.::::...   .-:..............-%%%*#*=+==**=::=-=+***++%#**#%##*#:  -###%*++-.:=**=..*#%****#%##***++++**************
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%+---:.:::-:-:.:-::.:. .:.==::.......  ....=%###=++=+#*-::+-=++*=+**%***###%+.:+%%%#+:..-*#+-.::.##****################**********
#%%%%%%%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%=:--:::.:..::..::..:..:::--::.....:#*=-:...+#%++*++#**-:.+===+**=**#%*#*%%#*#%%#+-:-::#%*-.:--::#***###################*********
#####%%%%%@@@@@@@@@%%@@@@@@@@@@@@@@@@@%%@@#:::.....-:..::--...-:.--+=*#*-....:@@@@%*+--%++**+##**=:.+===:*%=-#+**=+=#%%#+-:-++=:--:.==---::+*####################**********
#%%%%%%%%%%%@@@@@@%%%%%@@%%%%@@@@@@@@@@#%@=-===+*=--:-+#%#*::=*-:+=+++#@**=: .=+*#%@@%%*+++++%##*--.==--.:--.::.:-. =+-::=***=:-:-:++:----+#####################***++++==++
#%%%%%%%%%%%@@@@@%%%%%%%%%%%%%@@%%%@@@@@##%@@@@@#+--.:==**:-***::+=+*+*%%#@#+=:..:+**#*+++++#%#+=-:.:=-.....:......... .:::-:..:-=-:.-#**#%################****#*****+=====
#%%%%%%%%@@@@@@%%%@%%%%%%%%%%%@@%%%%@@%****+#*+=---:....:::#%##-:+=+**=#%###%@%#++=-+==++==+###+=-:.:=....................::....+***####%%################**********++++===
#@@@@@%%%%@@%%%%@@@@@%%%%%%%%@@@@@@@@@@%@%%%===:-:--:::::::-=+#--*++**++%@*%@%%@@%#===------::-:-:.:::.::............. .:....::*@%%%###%%#####################***+++++++++=
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%@@#%%%+==:-=--:.::.:..-:=-:+=--:-:=+%*@#*++*=----:-:.....:::::....:.............::......*%#####%%%%%#####******##########******++*+++
#@@@@@@@@@@@@@@@@@@@@@@@@%%%%%@@@@@%%@@%**++=:-::-::::-:::::::=-..:......:#+==--:-----:::. ..::::::::::......................+####%%%%%%###***##******##############*******
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%#--+--===+:.......-:.:.:..:::.-+::----::-:  ...::::::::::...........:::.........=++%%%%%%%%####**##***##########**************+
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%+-=-====+:...:.:.-:.:....:::-----:-:::-: .::::::::::.............. :::  ..:....++*%%%%%%%%%#####%%%%%%%#############**********
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%##++=+==++++:.:.:...::.::....:.----=---=:. .:-::-:::..:.......:::.... ......::.:..+@%%%%%%%%%%%%%%%%%%%%%%##################*****
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%*-==-===--=:......:-:.:::.:::--=----:-- .:::::...::..::......:.:.... ....:.:..::.:=%%%%%%%%%%%%%%%%%%%%%%%%%####################
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*---====-:=:-:....**=:..:::::----.:--=- ::--::.:.::...::........ ....::.:::::...:-=%%%%%%%%%%%%%%%%%%%%%%%%%%%%%################
#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*-::-++++==:::-::::::...:::----------:..:--:::....-............... :::..:::::::.-@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%########
#@@@@@@@@@@@@@@@@%%%%%%%%%%%%%%%%%%%%%%%%%%%#--==+++==---+===--------------::::.::---:::::.::................ :.:::::..:.:.:########################***********************
#%%%%%%%%%%%%%%%%%%%%########################+==++========------:==:==--===-==--===--:::::.:................   ....::....::=******+++++++++++++++++++++++++++==============
##%%%%#%%%%###################################+=++===++++========+-:=+=====----==---::.....::...........         ........+++++++++++++++++++++++=========================--
#####*****************#************************+++=+++++++==-++++=-::::-=--:-=====---:......: ..... ..... ..    .:..... -+=======-=====================-=====--------------
#**+++++++++++******************************+++=-=-==-=-=+++=+=+==----========---::::::..............           ::.... -===========-----==-------------:-------------------
#*+++++++***++++++****+++===+====----------===-:-=++++++++++++++=-----=====------::::.......... .              .:..   -========-------------------------::::::------:::::::
#-===+++******++++=---:::::::::::::::::::::--:::---===++*****#**+==----=-=-:--::::..::...                    ..:.. ...:::::::::::---------------::-----:::::::::::::.......
#+++====---------===++++===========-----====-::::::::::::::-----::---=++======---==++*+=-:::::......:--:---==+++++=--:::::.................::::----------:::::.............
#:::::::---==++****+==---:::-----=========--::::::::::::::::::::::...:::::..::::---:::::::::::::------::::::::----::..:::::::::::::::::::::::::::::::::::::::::::::::::::::
#=====++*****+=-::.................:::------:::.......................:::............ .        ...:::..  .    ....   ...............:::::::...........      ...............                                                                                                                                     ............ 
#...........................................:*+............................................................................................................................
#.............................................==...........................................................................................................................
#............................................ .+...........................................................................................................................
#...........................................:=#=...........................................................................................................................
#....................................:=*#%%%@@+............................................................................................................................
#...................................*@@@@@@%+:.............................................................................................................................
#.................................:#@@@@@#:................................................................................................................................
#.................................#@@@@%%#:................................................................................................................................
#.....=#**+==-::.................=@#=::....................................................................................................................................
#.... .%@@@@@@@@%#*+=-:..........#=..........................==............................................................................................................
#...:=*%@@@@@@@@@@@@@@@%##+=-::.:+ ............... :=....:=*%@*............................................................................................................
#.-%@@@@@@@@@@@@@@@@@@@@@@@@@@@%%#*+==--::......::+*:-+*%@@@@@*............................................................................................................
#+%*=-===+*#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%%%%%@%:.#@@@@@@@@*............................................................................................................
#*. .........::-=*%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@*...=@@@@@@@@*....=-......................-=:.................:=.................-...........-:.................:=........
#*:.......... .:--:..:-=+*#%%%@@@@@@@@@@@@@@@@@%=....:@@@@@@@@*...+@@#-..................=#@@%+:.............-*@@*.............-*%%........:=#@-...............-*@@+.......
#:*=.........=+=:......    .:+%@**+**###%%%%%#+.......%@@@@@@@* .#@@@@@#=............:=#%@@@@@@@*:.......:-+%@@@@@#:.....::-+#%@@@#...:-=*%@@@@-...........:-*%@@@@@#: ....
#..:.......=%*:........:-=+#@@@%=- ...................#@@@@@@@*:%@@@@@@@@%+:....:-=*#@@%@@@@@@@@@+..:-=+#%@@@@@@@@@@+:.:=*@@@@@@@@#..:%@@@@@@@@-......:-=+#@@@@@@@@@@@+:.:=
#........-#@*.........:%@@@@@@@%=-....................*@@@@@@@#==#@@@@@@@@@#..+%@@@@@@@::*@@@@@@%.-%@@@@@@@+#@@@@@@@@@%+::@@@@@@@@#...#@@@@@@@@-....=%@@@@@@@=#@@@@@@@@@#+:
#.......+@@%...........*@@@@@@@%=-....................*@@@@@@@* ..-%@@@@@@@=..-@@@@@@@@-..:+@@@@-.:%@@@@@@@=.#@@@@@@@@*...#@@@@@@@#...=@@@@@@@@-....:@@@@@@@@-.#@@@@@@@@+..
#.....:#@@@*...........-@@@@@@@%=-....................+@@@@@@@*....%@@@@@@@:..:%@@@@@@@-...:@@@=...*@@@@@@@+ .=%@@@@@=....*@@@@@@@#...-@@@@@@@@-.....#@@@@@@@= .+%@@@@@- ..
#....:%@@@@#...........:@@@@@@@%=-....................+@@@@@@@*...:%@@@@@@@:...%@@@@@@@-...+@@=....*@@@@@@@*....-+##-.....=@@@@@@@#...:%@@@@@@@-.....#@@@@@@@+ ...=*##-....
#...:%@@@@@#...........:@@@@@@@%=-....................+@@@@@@@*...:%@@@@@@%:...%@@@@@@@-..:@%-.....*@@@@@@@@*:............=@@@@@@@#....%@@@@@@@-.....#@@@@@@@@+:...........
#...+@@@@@@@:..........-@@@@@@@%=-....................+@@@@@@@*...:%@@@@@@%:...#@@@@@@@- :##:......-@@@@@@@@@@*=:.........=@@@@@@@#....%@@@@@@@-.....=@@@@@@@@@%*-:........
#...*@@@@@@@=..........=@@@@@@@+--....................+@@@@@@@*...:%@@@@@@%:...%@@@@@@@-:+=.........=@@@@@@@@@@@%#=:......=@@@@@@@#....%@@@@@@@-......=@@@@@@@@@@@%*=......
#...*@@@@@@@#..........*@@@@@@= =-....................+@@@@@@@*...:%@@@@@@@:..:%@@@@@@@++----:.......:+%@@@@@@@@@@@@*:....-@@@@@@@#....%@@@@@@@-.......:*%@@@@@@@@@@@%+:...
#...=@@@@@@@@+........:@@@@@*:..=-....................+@@@@@@@*...:%@@@@@@@:..:%@@@@@@@-................=*%@@@@@@@@@@@=...-@@@@@@@#....#@@@@@@@-.........:=*%@@@@@@@@@@@=..
#...:%@@@@@@@@-......:%@@%+:... == ...................+@@@@@@@*...:%@@@@@@@-..:%@@@@@@@-................  :+*@@@@@@@@@@=..-@@@@@@@#....#@@@@@@@-..........  -+#@@@@@@@@@@-.
#....=@@@@@@@@@-....=%%*-......+%%=...................+@@@@@@@#....%@@@@@@@-..:%@@@@@@@-................-*@= :*@@@@@@@@#..-@@@@@@@#....#@@@@@@@-..........-*@- -#@@@@@@@@*.
#.....*@@@@@@@@@=.-++-.......=%@@@@%=.................+@@@@@@@#....#@@@@@@@+..:%@@@@@@@=...........:-=*%@@@+...+@@@@@@@#..-@@@@@@@%....#@@@@@@@=.....:-=*%@@@=...*@@@@@@@#.
#......#@@@@@@@@@#-. ........=%@@@@#-.................+@@@@@@@%....*@@@@@@@*..:%@@@@@@@=..........-@@@@@@@@*....%@@@@@@%:.-@@@@@@@%....#@@@@@@@=....=@@@@@@@@+...:@@@@@@@#.
#.......*@@@@@@@@@@+:..........=%%=...................*@@@@@@@@:...+@@@@@@@%..:@@@@@@@@*...........#@@@@@@@#....#@@@@@@@= =@@@@@@@%:...%@@@@@@@+.....%@@@@@@@*....%@@@@@@@-
#........=@@@@@@@@@@@*-........ =- ...................*@@@@@@@@=...=@@@@@@@@-.:@@@@@@@@%:.......:..-@@@@@@@@:...#@@@@@@@+ =@@@@@@@@-..:%@@@@@@@#...-.=@@@@@@@%:...%@@@@@@%=
#.........:#@@@@@@@@@@@%*=:.....==.:.......:....-=:...#@@@@@@@@#...:@@@@@@@@+ -@@@@@@@@@*......=-...%@@@@@@@+...#@@@@%+:..+@@@@@@@@#.-=%@@@@@@@@-.=-.:%@@@@@@@+...%@@@@%+..
#...........-#@@@@@@@@@@@@@#*=-:=- ..........:-=-:....#@@@@@@@@@*...#@@@@@@@%.-@@@@@@@@@@%+---+-....+@@@@@@@@- .#@@@+:....+@@@@@@@@@#-:%@@@@@@@@@+:...*@@@@@@@@- .#@@@+....
#.............-*%@@@@@@@@@@@@@@@@%**++====+*#*=:.....:@@@@@@@@@#:...+@@@@@@@@:=@@@@@@@@@@@@@@#:.....:%@@@@@@@@=.#@*:......#@@@@@@@@%- -@@@@@@@@@+.....:@@@@@@@@%=:%@+:.....
#...............:=*@@@@@@@@@@@@@@@@@@@@@@@@*-........-#+:+@@@@*.....:@@@@@@@@:+#-:+@@@@@@@@@+........=@@@@@@@@@#+-........#+:=@@@@#:..=#-:#@@@@=.......=@@@@@@@@@#+:.......
#..................:=*#@@@@@@@@@@@@@@@@%+-................=%@+.......*@@@@@@=......:=*%@@@#-..........-#@@@@%*=:..............-#@*.........+%%-.........=%@@@%%*=:.........
#......................:-+*#%@@@@@%#*=-....:................:........-@@@@@=...........:::..............::::....................:.........................::::.............
#............................:::+=....................................%@@#-................................................................................................
#...............................+:...................................:%#-..................................................................................................
#.............................-#=...............................:===--:....................................................................................................
#.............................................+#-..........................................................................................................................
#..............................................:*:.........................................................................................................................
#.............................................. ==.........................................................................................................................
#..............................................=#:.........................................................................................................................
#......................................-=++**#@%-..........................................................................................................................
#...................................:+%@@@@@@@+............................................................................................................................
#..................................=@@@@@@#+-..............................................................................................................................
#.................................=@@@@@@@* ...............................................................................................................................
#................................:@@@%%#***:...............................................................................................................................
#............................... *@+-......................................................................................................................................
#.....................:-=+****+++%+::..............-.......................................................................................................................
#.................-+*%@@@@@@@@@@@@@@@%#*+=-:.....:*=..................................................................................-####+:..............................
#..............-=+*##%%@@@@@@@@@@@@@@@@@@@@@%%##%%-..................................................................................=@@@#=:...............................
#...........:==-:......:-=*%@@@@@@@@@@@@@@@@@@@@#:.........................................................................-*-......*@%+:..................................
#.........:*+:...........  .:+@@@@@@@@@@@@@@@@%-....................:...................................................:=#@@@#=..:*#-...........................:.........
#.......:+@+.............:-+#@@*+++*%@@@@@@@%+....................-*@#-...............:+#:...-%#=....................:=#%@@@@@@@-.--. ...-**...................-#@*-.......
#......=%@*..........-+*#%@@@@@*=: ..:--=++=...................:=#@@@@@%=.........:-+#@@@:..=@@@@%+:............:-=*#@@@@@@@@@@#..  .:-+%@@#................-+%@@@@@#-.....
#....:#@@%:..........+@@@@@@@@@*=-.........................:-+#@@@@@@@@@@%+:..-+*#%@@@@@%:.+@@@@@@@%+:......:+#%@@@@@@#:=%@@@@#..=+*#@@@@@@*............:-+%@@@@@@@@@@%=...
#...-%@@@+............%@@@@@@@@*=-...................:--+*#@@@%+%@@@@@@@@@@@*:=@@@@@@@@@%-*@@@@@@@@@@@*-.....*@@@@@@@@#. .%@@+...*@@@@@@@@@*......:-=+*%@@@#*@@@@@@@@@@@%+:
#..-@@@@@-............*@@@@@@@@*=-...................#@@@@@@@@#.:+%@@@@@@@@@@+.%@@@@@@@@@+:=#@@@@@@@@@@*.....-@@@@@@@@#:.:@%-....-@@@@@@@@@*.....:%@@@@@@@@* :+%@@@@@@@@@@=
#.:%@@@@%:............+@@@@@@@@*=-...................=@@@@@@@@%:...=@@@@@@@@@:.*@@@@@@@@@:...=%@@@@@@@@-.....-@@@@@@@@#..-%:......%@@@@@@@@*......*@@@@@@@@*....+@@@@@@@@%.
#.#@@@@@%:............=@@@@@@@@*=-...................-@@@@@@@@%:...:%@@@@@@@#:.=@@@@@@@@%:....%@@@@@@@%:.....-@@@@@@@@#..=+ ......*@@@@@@@@*......+@@@@@@@@*....-@@@@@@@@*.
#=@@@@@@%:............=@@@@@@@@*=-...................-@@@@@@@@%....-@@@@@@@@#..-@@@@@@@@%:...-@@@@@@@@%:.....-@@@@@@@@#:..+=......+@@@@@@@@*......=@@@@@@@@*....=@@@@@@@@*.
##@@@@@@@:............=@@@@@@@@*=-...................-@@@@@@@@%:...-@@@@@@@@#..:@@@@@@@@%:...-@@@@@@@@%:.....-@@@@@@@@#.. .++.....=@@@@@@@@*......=@@@@@@@@*....=@@@@@@@@*.
#@@@@@@@@-............=@@@@@@@@*=-...................-@@@@@@@@%:...-@@@@@@@@#..:@@@@@@@@%:...:@@@@@@@@%:.....-@@@@@@@@%+==+=:.....=@@@@@@@@*......=@@@@@@@@*....+@@@@@@@@+.
#@@@@@@@@+............+@@@@@@@@+=-...................:@@@@@@@@%:...-@@@@@@@@#..:%@@@@@@@%:...-@@@@@@@@%:....:#@@@@@@@@@@@@@=......=@@@@@@@@*......=@@@@@@@@*....+@@@@@@@@+.
#@@@@@@@@%............#@@@@@@@*.+-...................:@@@@@@@@%:...-@@@@@@@@#..:%@@@@@@@%:...-@@@@@@@@%:....:=@@@@@@@@%-:-:.......=@@@@@@@@*......=@@@@@@@@*....+@@@@@@@@+.
#%@@@@@@@@+..........:@@@@@@%=..+-...................:@@@@@@@@%....-@@@@@@@@#..:%@@@@@@@%:...-@@@@@@@@%:.....:@@@@@@@@#...........=@@@@@@@@*......=@@@@@@@@*....+@@@@@@@@+.
##@@@@@@@@@:.........*@@@@%+:...=-...................-@@@@@@@@%:...-@@@@@@@@#..:%@@@@@@@%:...-@@@@@@@@%:.....-@@@@@@@@#...........=@@@@@@@@*......=@@@@@@@@*....+@@@@@@@@+.
#=@@@@@@@@@%:.......+@@@#=:.....+- ..................-@@@@@@@@%:...-@@@@@@@@#..:%@@@@@@@%:...-@@@@@@@@%:.....-@@@@@@@@#...........=@@@@@@@@*......=@@@@@@@@*....=@@@@@@@@*.
#.#@@@@@@@@@#:....-#@%+-......:*@%=..................-@@@@@@@@%:...-@@@@@@@@#..:%@@@@@@@%:...-@@@@@@@@%:.....-@@@@@@@@#...........=@@@@@@@@#......=@@@@@@@@*....=@@@@@@@@*.
#.:@@@@@@@@@@%-.-+#+-.......:*@@@@@%=................-@@@@@@@@%:...-@@@@@@@@#..:%@@@@@@@%:...-@@@@@@@@%:.....-@@@@@@@@#...........=@@@@@@@@#......=@@@@@@@@#....=@@@@@@@@*.
#..-@@@@@@@@@@@+-:..........-%@@@@@@+................-@@@@@@@@@-...:%@@@@@@@%:.:%@@@@@@@@:...-@@@@@@@@%:.....-@@@@@@@@#...........=@@@@@@@@#......=@@@@@@@@#....=@@@@@@@@#.
#...-%@@@@@@@@@@#-............=%@@*:.................-@@@@@@@@@=...:%@@@@@@@@-.-@@@@@@@@@-...-@@@@@@@@%:.....-@@@@@@@@#...........=@@@@@@@@%:.....=@@@@@@@@%:...-@@@@@@@@%.
#....:#@@@@@@@@@@@#=:...........*=...................-@@@@@@@@@*....#@@@@@@@@*.:%@@@@@@@@=...-@@@@@@@@@-.....-@@@@@@@@%:..........=@@@@@@@@@:.....=@@@@@@@@@:.. -@@@@@@@@@:
#......+@@@@@@@@@@@@%*-:......:.+-.................:.=@@@@@@@@@%....+@@@@@@%+:.-@@@@@@@@@#...-@@@@@@@@@*..-=.-@@@@@@@@%:..........+@@@@@@@@@+ .-= +@@@@@@@@@+ .-+%@@@@@@@@=
#.......-#@@@@@@@@@@@@@%*=-.....+-...............-=-.+@@@@@@@@@@+ ..=@@@@%+....-@@@@@@@@@@+..=@@@@@@@@@@=-=..-@@@@@@@@@:..........+@@@@@@@@@%-==..+@@@@@@@@@%-==.#@@@@@@@@*
#.........-#@@@@@@@@@@@@@@@%#+=-+-............-=+-...+@@@@@@@@@@@=. -@@@+:.....=@@@@@@@@@@@- +@@@@@@@@@@@=...-@@@@@@@@@-..........*@@@@@@@@@@%-...*@@@@@@@@@@%-..*@@@@@@@@%
#...........-*%@@@@@@@@@@@@@@@@@@%%#***+++*#%#*=.....#@@%@@@@@@@@@+:=@*:.......+@@%@@@@@@@=..*@@%@@@@@@%-....-@@@@@@@@@*..........%@@%@@@@@@#:....%@@@@@@@@@#:...+@@@@@@@@@
#.............:=*@@@@@@@@@@@@@@@@@@@@@@@@@@%+:.......**-:#@@@@@@@@@%+:.........**-.*@@@@%:...**-:#@@@@#:.....-@@@@@@@@%+.........:#+::#@@@@*.....:#+::%@@@@*.....-@@@@@@@@@
#................:-+#@@@@@@@@@@@@@@@@@@@#+:...............+%@@@@%*=:................=%@#:.........+%@*.......-@@@@@@@+.................+%@+...........:*@@+.......%@@@@@@@@
#....................:-+#%@@@@@@@@@%#*=:...................:---:......................-............:-........=@@@@@#:...................:-............. .:........+@@@@@@@@
#.........................:--===*+::.........................................................................=@@@@+...................................:--::.......-@@@@@@@@
#............................. .+:...........................................................................+@@@=...................................-%@@@%#+-:....*@@@@@@%
#............................:-*+............................................................................*@#:...................................=@@@@@@@@@%#=-.-@@@@@#:
#............................-*=.............................................................................#+....................................+@@@@@@@@@@@@@@%#@@@@+..
#...........................................................................................................::...................................:#@@@@@@@@@@@@@@@@@@@#-...
#...............................................................................................................................................-=---+*#%@@@@@@@@@@%*-.....
#::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::.:::::...::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::-:......:=+#%%%%#+=:..::...

# This is a Klipper configuration file for BigTreeTech SKR Mini E3 V3.0.
# It integrates your previous settings and is configured for a Klicky Probe
# connected to the Z endstop pin, and the hotend cooling fan on FAN2.
#
# IMPORTANT:
# 1. Double-check all pin assignments against your SKR Mini E3 V3.0 board's documentation.
# 2. Re-calibrate your Z-offset, Extruder Rotation Distance, and PID for heaters after applying this config.
# 3. Ensure your Klicky Probe deployment/stowage is handled by your start/end G-code or macros.

# Configuration Includes
[include shell_command.cfg] # Include shell command configuration
[include macro.cfg]         # Include macro configuration

# This file contains common pin mappings for the BIGTREETECH SKR mini
# E3 v3.0. To use this config, the firmware should be compiled for the
# STM32G0B1 with a "8KiB bootloader" and USB communication.

# The "make flash" command does not work on the SKR mini E3. Instead,
# after running "make", copy the generated "out/klipper.bin" file to a
# file named "firmware.bin" on an SD card and then restart the SKR
# mini E3 with that SD card.

# See docs/Config_Reference.md for a description of parameters.

[stepper_x]
step_pin: PB13
dir_pin: !PB12
enable_pin: !PB14
microsteps: 16
rotation_distance: 40
endstop_pin: ^PC0
position_endstop: 0
position_max: 235
homing_speed: 50

[tmc2209 stepper_x]
uart_pin: PC11
tx_pin: PC10
uart_address: 0
run_current: 0.580
stealthchop_threshold: 999999

[stepper_y]
step_pin: PB10
dir_pin: !PB2
enable_pin: !PB11
microsteps: 16
rotation_distance: 40
endstop_pin: ^PC1
position_endstop: 0
position_max: 235
homing_speed: 50

[tmc2209 stepper_y]
uart_pin: PC11
tx_pin: PC10
uart_address: 2
run_current: 0.580
stealthchop_threshold: 999999

[stepper_z]
step_pin: PB0
dir_pin: PC5
enable_pin: !PB1
microsteps: 16
rotation_distance: 8
endstop_pin: ^PC2
position_endstop: 0.0
position_max: 250

[tmc2209 stepper_z]
uart_pin: PC11
tx_pin: PC10
uart_address: 1
run_current: 0.580
stealthchop_threshold: 999999

[extruder]
step_pin: PB3
dir_pin: !PB4
enable_pin: !PD1
microsteps: 16
rotation_distance: 33.500
nozzle_diameter: 0.400
filament_diameter: 1.750
heater_pin: PC8
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PA0
control: pid
pid_Kp: 21.527
pid_Ki: 1.063
pid_Kd: 108.982
min_temp: 0
max_temp: 250

[tmc2209 extruder]
uart_pin: PC11
tx_pin: PC10
uart_address: 3
run_current: 0.650

[heater_bed]
heater_pin: PC9
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PC4
control: pid
pid_Kp: 54.027
pid_Ki: 0.770
pid_Kd: 948.182
min_temp: 0
max_temp: 130

[heater_fan heatbreak_cooling_fan]
pin: PC7

[heater_fan controller_fan]
pin: PB15

[fan]
pin: PC6

[mcu]
serial: /dev/serial/by-id/usb-Klipper_Klipper_firmware_12345-if00

[printer]
kinematics: cartesian
max_velocity: 300
max_accel: 3000
max_z_velocity: 5
max_z_accel: 100

[board_pins]
aliases:
    # EXP1 header
    EXP1_1=PB5,  EXP1_3=PA9,   EXP1_5=PA10, EXP1_7=PB8, EXP1_9=<GND>,
    EXP1_2=PA15, EXP1_4=<RST>, EXP1_6=PB9,  EXP1_8=PD6, EXP1_10=<5V>

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# The contents below this line are auto-generated by Klipper.
#*# When you run SAVE_CONFIG, Klipper will overwrite the settings
#*# in the sections above with the values saved here.
#*# It is recommended to move any settings you want to be permanent
#*# from the auto-generated block to the appropriate sections above
#*# before restarting Klipper.
#*#
#*# DO NOT EDIT THE AUTO-GENERATED BLOCK BELOW THIS LINE.
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 42.913
#*# pid_ki = 17.880
#*# pid_kd = 25.748
#*#
#*# [probe]
#*# z_offset = 3.050
#*#
#*# [bed_mesh Thesus]
#*# version = 1
#*# points =
#*# 0.058847, 0.100097, 0.092597, 0.033847, 0.068847
#*# -0.028653, 0.016347, 0.042597, 0.013847, 0.035097
#*# -0.084903, -0.018653, 0.000097, -0.012403, 0.020097
#*# -0.056153, -0.003653, 0.017597, -0.018653, 0.023847
#*# 0.038847, 0.070097, 0.082597, 0.052597, 0.110097
#*# x_count = 5
#*# y_count = 5
#*# mesh_x_pps = 4
#*# mesh_y_pps = 4
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 8.0
#*# max_x = 223.0
#*# min_y = 30.0
#*# max_y = 201.0